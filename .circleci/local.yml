version: 2.1
  
orbs:
  docker: circleci/docker@1.5.0
  
parameters:
  la_version:
   type: string
   description: Remote docker version to setup for docker builds.
   default: zero
  
  
jobs:
  setup:
    docker:
      - image: circleci/node
    parameters:
      docker-version:
       type: env_var_name
       description: Remote docker version to setup for docker builds.
       default: dodo
    steps:
      - run:
          nam: Set version
          command: |
              echo ' export "dodo=<< pipeline.parameters.la_version >>" ' >> BASH_ENV
              source BASH_ENV
              echo $DODO
      
      - docker/install-docker:
          version: v${<< parameters.docker-version >>}
      - setup_remote_docker:
          version: ${<< parameters.docker-version >>}
          
workflows:
  build-deploy:
    jobs:
      - setup
